{% extends 'base.html' %}
{% load static %}
{% block content %}


    <div class="container-flex">
        <div class="row">
            <div class="container-flex">
                <h1 class='tittle text' name="bloco">Bloco {{nome_bloco}}</h1>
                <h1 class='tittle text' name="data">Data {{data}}</h1>
            </div>
            <div class="seletor">
                <h2 class='text reservados principal' id="reservados">Reservados</h2>
                <h2 class='text disponiveis ' id="disponiveis">Disponiveis</h2>
            </div>
            <input type="checkbox" name="checkbox" id="checkbox-field" class="checkbox">
            <label for="checkbox-field" class="checkbox-label"></label>

            <div class="espaco-painel">

                <form action="{% url 'reservas:registrar_reserva' %}" method="POST"> {% csrf_token %}


                    <div class="painel">
                        <div class="frente">
                            <div class="conteudo-painel">
                                {% if labs_reservados %}
                                    <div class="container">
                                        <table>
                                            <tr>
                                                <th class='text-table'>Professor</th>
                                                <th class='text-table'>Laboratório</th>
                                                <th class='text-table'>Periodo</th>
                                            </tr>
                
                                            {% for lab in labs_reservados %}
                                            <tr class='lista_reservados'>
                                                <td class='text-table'>{{lab.professor.nome}}</td>
                                                <td class='text-table'>{{lab.laboratorio.nome}} {{lab.bloco}}{{lab.laboratorio.numero_sala}}</td>
                                                <td class='text-table'>{{lab.periodo.nome_periodo}}</td>
                                            </tr>
                                            {% endfor %}
                                        </table>
                                    </div>
                                {% else %}
                                    <h2 class="text-center">Não há nenhum laboratório reservado</h2>
                                {% endif %}
                            </div>
                        </div>

                        <div class="verso">
                            <div class="conteudo-painel">
                                {% if labs_disponiveis %}
                                    <div class="container">
                                        <table>
                                            {% for lab in labs_disponiveis %}
                                            <tr class='lista_disponiveis'>
                                                <td class='text-table'>{{lab}}</td>
                                            </tr>
                        
                                            {% endfor %}
                    
                                        </table>
                                    </div>
                                        <h1 class="text-center"></h1> 
                                {% else %}
                                    <h1 class='text-center'>Não há nenhum laboratório dispónivel</h1>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </form>
            </div>   
        </div>
    </div>


{% endblock content %}